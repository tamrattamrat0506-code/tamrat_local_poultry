{% extends 'base/base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'electronics/css/product_detail.css' %}">
{% endblock %}

{% block content %}
<div class="product-detail-container">
    <div class="image-gallery">
        <div class="main-image">
            <img id="mainProductImage" src="{{ product.images.first.image.url }}" alt="Main Product Image" />
        </div>
        <div class="thumbnail-list">
            {% for image in product.images.all %}
                <img class="thumbnail" src="{{ image.image.url }}" alt="Product Image">
            {% endfor %}
        </div>

       <span class="carted-badge {% if product.is_carted %}carted{% endif %}">
    <i class="fas fa-shopping-cart"></i>
</span>


    </div>

    <div class="product-info">
        <h1>{{ product.title }}</h1>
        <p class="price">${{ product.price }}</p>
        <p class="category"><strong>Category:</strong> {{ product.category.name }}</p>
        <p class="description">{{ product.description|linebreaks }}</p>
        <p class="condition"><strong>Condition:</strong> {{ product.get_condition_display }}</p>
        <p class="stock"><strong>Stock:</strong> {{ product.stock }}</p>

        <a href="{% url 'cart:add_to_cart' app_label model_name product.id %}">{% trans "Add to Cart" %}</a>
        <div class="actions">
    <button type="button" 
            class="interaction-button like-button" 
            aria-label="Like this product"
            data-item-id="{{ product.id }}">
        <i class="fas fa-thumbs-up" aria-hidden="true"></i> 
        <span class="interaction-count">{{ product.like_count }}</span>
    </button>

    <button type="button" 
            class="interaction-button share-button" 
            aria-label="Share this product"
            data-item-id="{{ product.id }}">
        <i class="fas fa-share-alt" aria-hidden="true"></i> 
        <span class="interaction-count">{{ product.share_count }}</span>
    </button>
</div>

    </div>
</div>
{% endblock %}

{% block js %}
<script defer src="{% static 'electronics/js/product_detail.js' %}"></script>
{% endblock %}
