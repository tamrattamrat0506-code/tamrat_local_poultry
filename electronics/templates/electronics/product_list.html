{% extends 'base/base.html' %}
{% load static %}
{% load i18n %}

{% block css %}
<link rel="stylesheet" href="{% static 'electronics/css/product_list.css' %}">
{% endblock %}

{% block content %}
<h2>Electronics for Sale</h2>
<div class="product-grid">
  {% for product in products %}
    <div class="product-card">
      <a href="{% url 'electronics:product_detail' product.pk %}">
        {% if product.images.all %}
          <!-- Show first image only -->
          <img src="{{ product.images.first.image.url }}" alt="{{ product.images.first.alt_text }}">
        {% else %}
          <!-- Placeholder if no images exist -->
          <img src="{% static 'electronics/images/no-image.jpg' %}" alt="No image available">
        {% endif %}
        <h3>{{ product.name }}</h3>
        <p>${{ product.price }}</p>
        <p>{{ product.get_condition_display }}</p>
      </a>
    </div>
  {% empty %}
    <p>No products found.</p>
  {% endfor %}
</div>
{% endblock %}

{% block js %}
<script src="{% static 'electronics/js/product_list.js' %}"></script>
{% endblock %}